<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realistic 3D Probability Tower - System Reliability Demonstration</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/materials.css">
    <link rel="stylesheet" href="static/css/animations.css">
</head>
<body>
    <div class="container">
        <!-- Control Panel -->
        <div class="control-panel">
            <div class="panel-header">
                <h1>üîß Probability Tower System</h1>
                <div class="status-indicator">
                    <div class="status-light" id="statusLight"></div>
                    <span id="statusText">System Operational</span>
                </div>
            </div>
            
            <div class="probability-display">
                <div class="system-probability">
                    <div class="prob-label">System Reliability:</div>
                    <div class="prob-value-container">
                        <span id="systemProb">1.00</span>
                        <span class="percentage">100%</span>
                    </div>
                </div>
                <div class="equation-container">
                    <div class="equation-label">Calculation:</div>
                    <div id="equation" class="equation">P(System) = 1 √ó 1 √ó 1 √ó 1 = 1.00</div>
                </div>
            </div>
            
            <!-- Component Controls with realistic styling -->
            <div class="component-controls">
                <h3>üî© Component Status</h3>
                <div class="components-grid">
                    <div class="component-control" data-component="A">
                        <div class="component-icon popsicle-icon"></div>
                        <div class="component-info">
                            <span class="component-name">Popsicle Stick A</span>
                            <div class="component-stats">
                                <span class="prob-value" id="probA">1.00</span>
                                <span class="reliability-bar"><span class="bar-fill" id="barA"></span></span>
                            </div>
                        </div>
                        <div class="component-buttons">
                            <button class="fail-btn" data-component="A" title="Simulate component failure">‚ö° Fail</button>
                            <button class="restore-btn" data-component="A" style="display:none;" title="Restore component">üîß Fix</button>
                        </div>
                    </div>
                    
                    <div class="component-control" data-component="B">
                        <div class="component-icon popsicle-icon"></div>
                        <div class="component-info">
                            <span class="component-name">Popsicle Stick B</span>
                            <div class="component-stats">
                                <span class="prob-value" id="probB">1.00</span>
                                <span class="reliability-bar"><span class="bar-fill" id="barB"></span></span>
                            </div>
                        </div>
                        <div class="component-buttons">
                            <button class="fail-btn" data-component="B">‚ö° Fail</button>
                            <button class="restore-btn" data-component="B" style="display:none;">üîß Fix</button>
                        </div>
                    </div>
                    
                    <div class="component-control" data-component="C">
                        <div class="component-icon popsicle-icon"></div>
                        <div class="component-info">
                            <span class="component-name">Popsicle Stick C</span>
                            <div class="component-stats">
                                <span class="prob-value" id="probC">1.00</span>
                                <span class="reliability-bar"><span class="bar-fill" id="barC"></span></span>
                            </div>
                        </div>
                        <div class="component-buttons">
                            <button class="fail-btn" data-component="C">‚ö° Fail</button>
                            <button class="restore-btn" data-component="C" style="display:none;">üîß Fix</button>
                        </div>
                    </div>
                    
                    <div class="component-control" data-component="D">
                        <div class="component-icon popsicle-icon"></div>
                        <div class="component-info">
                            <span class="component-name">Popsicle Stick D</span>
                            <div class="component-stats">
                                <span class="prob-value" id="probD">1.00</span>
                                <span class="reliability-bar"><span class="bar-fill" id="barD"></span></span>
                            </div>
                        </div>
                        <div class="component-buttons">
                            <button class="fail-btn" data-component="D">‚ö° Fail</button>
                            <button class="restore-btn" data-component="D" style="display:none;">üîß Fix</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-controls">
                <button id="resetSystem" class="action-btn reset-btn">
                    <span class="btn-icon">üîÑ</span>
                    <span>Reset All</span>
                </button>
                <button id="randomFail" class="action-btn random-btn">
                    <span class="btn-icon">üé≤</span>
                    <span>Random Failure</span>
                </button>
            </div>
            
            <div class="instructions">
                <h4>üìñ Instructions</h4>
                <ul>
                    <li>üñ±Ô∏è Drag components to remove them</li>
                    <li>üéØ Drop back in zone to restore</li>
                    <li>‚ö° Use fail buttons for instant failure</li>
                    <li>üëÄ Watch how probability changes!</li>
                </ul>
            </div>
        </div>

        <!-- 3D Tower Container -->
        <div class="tower-container">
            <div class="scene" id="scene">
                <div class="tower-structure">
                    
                    <!-- Realistic LED Light Assembly -->
                    <div class="led-assembly">
                        <div class="led-housing">
                            <div class="led-component" id="systemLED">
                                <div class="led-lens"></div>
                                <div class="led-body"></div>
                                <div class="led-leads">
                                    <div class="lead positive"></div>
                                    <div class="lead negative"></div>
                                </div>
                            </div>
                        </div>
                        <div class="led-label">5mm LED Status Indicator</div>
                    </div>
                    
                    <!-- Battery Assembly -->
                    <div class="battery-assembly">
                        <div class="battery-holder">
                            <div class="coin-battery" id="systemBattery">
                                <div class="battery-top">CR2032</div>
                                <div class="battery-side"></div>
                                <div class="battery-bottom"></div>
                            </div>
                        </div>
                        <div class="battery-label">3V Coin Cell Battery</div>
                    </div>
                    
                    <!-- Cardboard Tower Structure -->
                    <div class="cardboard-tower">
                        
                        <!-- Level 4 (Top) -->
                        <div class="tower-level level-4">
                            <div class="cardboard-floor">
                                <div class="cardboard-surface"></div>
                                <div class="cardboard-edges">
                                    <div class="edge-top"></div>
                                    <div class="edge-front"></div>
                                    <div class="edge-left"></div>
                                    <div class="edge-right"></div>
                                </div>
                                <div class="corrugation-pattern"></div>
                            </div>
                            
                            <!-- Popsicle Stick Column D -->
                            <div class="column-assembly" data-level="4">
                                <div class="popsicle-column" id="columnD" data-component="D" draggable="true">
                                    <div class="stick-body">
                                        <div class="wood-grain"></div>
                                        <div class="wood-texture"></div>
                                        <div class="stick-edges">
                                            <div class="edge-top"></div>
                                            <div class="edge-bottom"></div>
                                            <div class="edge-left"></div>
                                            <div class="edge-right"></div>
                                        </div>
                                    </div>
                                    <div class="column-label">D</div>
                                    
                                    <!-- Realistic Wires -->
                                    <div class="wire-connection wire-top">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                    <div class="wire-connection wire-bottom">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                </div>
                                
                                <!-- Hot Glue Attachments -->
                                <div class="glue-spots">
                                    <div class="glue-drop glue-1"></div>
                                    <div class="glue-drop glue-2"></div>
                                </div>
                                
                                <!-- Drop Zone -->
                                <div class="drop-zone" data-component="D">
                                    <div class="drop-indicator">
                                        <div class="drop-icon">üìç</div>
                                        <div class="drop-text">Drop D Here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Level 3 -->
                        <div class="tower-level level-3">
                            <div class="cardboard-floor">
                                <div class="cardboard-surface"></div>
                                <div class="cardboard-edges">
                                    <div class="edge-top"></div>
                                    <div class="edge-front"></div>
                                    <div class="edge-left"></div>
                                    <div class="edge-right"></div>
                                </div>
                                <div class="corrugation-pattern"></div>
                            </div>
                            
                            <div class="column-assembly" data-level="3">
                                <div class="popsicle-column" id="columnC" data-component="C" draggable="true">
                                    <div class="stick-body">
                                        <div class="wood-grain"></div>
                                        <div class="wood-texture"></div>
                                        <div class="stick-edges">
                                            <div class="edge-top"></div>
                                            <div class="edge-bottom"></div>
                                            <div class="edge-left"></div>
                                            <div class="edge-right"></div>
                                        </div>
                                    </div>
                                    <div class="column-label">C</div>
                                    
                                    <div class="wire-connection wire-top">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                    <div class="wire-connection wire-bottom">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                </div>
                                
                                <div class="glue-spots">
                                    <div class="glue-drop glue-1"></div>
                                    <div class="glue-drop glue-2"></div>
                                </div>
                                
                                <div class="drop-zone" data-component="C">
                                    <div class="drop-indicator">
                                        <div class="drop-icon">üìç</div>
                                        <div class="drop-text">Drop C Here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Level 2 -->
                        <div class="tower-level level-2">
                            <div class="cardboard-floor">
                                <div class="cardboard-surface"></div>
                                <div class="cardboard-edges">
                                    <div class="edge-top"></div>
                                    <div class="edge-front"></div>
                                    <div class="edge-left"></div>
                                    <div class="edge-right"></div>
                                </div>
                                <div class="corrugation-pattern"></div>
                            </div>
                            
                            <div class="column-assembly" data-level="2">
                                <div class="popsicle-column" id="columnB" data-component="B" draggable="true">
                                    <div class="stick-body">
                                        <div class="wood-grain"></div>
                                        <div class="wood-texture"></div>
                                        <div class="stick-edges">
                                            <div class="edge-top"></div>
                                            <div class="edge-bottom"></div>
                                            <div class="edge-left"></div>
                                            <div class="edge-right"></div>
                                        </div>
                                    </div>
                                    <div class="column-label">B</div>
                                    
                                    <div class="wire-connection wire-top">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                    <div class="wire-connection wire-bottom">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                </div>
                                
                                <div class="glue-spots">
                                    <div class="glue-drop glue-1"></div>
                                    <div class="glue-drop glue-2"></div>
                                </div>
                                
                                <div class="drop-zone" data-component="B">
                                    <div class="drop-indicator">
                                        <div class="drop-icon">üìç</div>
                                        <div class="drop-text">Drop B Here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Level 1 (Bottom) -->
                        <div class="tower-level level-1">
                            <div class="cardboard-floor">
                                <div class="cardboard-surface"></div>
                                <div class="cardboard-edges">
                                    <div class="edge-top"></div>
                                    <div class="edge-front"></div>
                                    <div class="edge-left"></div>
                                    <div class="edge-right"></div>
                                </div>
                                <div class="corrugation-pattern"></div>
                            </div>
                            
                            <div class="column-assembly" data-level="1">
                                <div class="popsicle-column" id="columnA" data-component="A" draggable="true">
                                    <div class="stick-body">
                                        <div class="wood-grain"></div>
                                        <div class="wood-texture"></div>
                                        <div class="stick-edges">
                                            <div class="edge-top"></div>
                                            <div class="edge-bottom"></div>
                                            <div class="edge-left"></div>
                                            <div class="edge-right"></div>
                                        </div>
                                    </div>
                                    <div class="column-label">A</div>
                                    
                                    <div class="wire-connection wire-top">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                    <div class="wire-connection wire-bottom">
                                        <div class="wire-insulation orange"></div>
                                        <div class="wire-core"></div>
                                        <div class="connection-point"></div>
                                    </div>
                                </div>
                                
                                <div class="glue-spots">
                                    <div class="glue-drop glue-1"></div>
                                    <div class="glue-drop glue-2"></div>
                                </div>
                                
                                <div class="drop-zone" data-component="A">
                                    <div class="drop-indicator">
                                        <div class="drop-icon">üìç</div>
                                        <div class="drop-text">Drop A Here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Cardboard Base -->
                        <div class="cardboard-base">
                            <div class="base-surface">
                                <div class="cardboard-texture"></div>
                                <div class="base-label">Corrugated Cardboard Base</div>
                                <div class="manufacturer-mark">üì¶ Sturdy Shipping Grade</div>
                            </div>
                            <div class="base-sides">
                                <div class="side front"></div>
                                <div class="side back"></div>
                                <div class="side left"></div>
                                <div class="side right"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 3D Controls -->
            <div class="view-controls">
                <button id="resetView" title="Reset 3D View">üéØ</button>
                <button id="topView" title="Top View">‚¨ÜÔ∏è</button>
                <button id="sideView" title="Side View">‚ÜîÔ∏è</button>
                <button id="frontView" title="Front View">üëÅÔ∏è</button>
            </div>
        </div>
    </div>

    <!-- Enhanced Notification System -->
    <div id="notification" class="notification">
        <div class="notification-icon"></div>
        <div class="notification-content">
            <div class="notification-title"></div>
            <div class="notification-message"></div>
        </div>
        <button class="notification-close">&times;</button>
    </div>
    
    <!-- Probability Explanation Modal -->
    <div id="probabilityModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Probability Calculation</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modalContent"></div>
            <div class="modal-footer">
                <button id="modalClose" class="modal-btn">Got it!</button>
            </div>
        </div>
    </div>

    <script src="static/js/drag-handler.js"></script>
    <script src="static/js/probability-engine.js"></script>
    <script src="visual-effects.js"></script>
    <script src="static/js/script.js"></script>
</body>
</html>
